{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\rknk1\\\\Downloads\\\\hackathon (2)\\\\hackathon\\\\frontend\\\\src\\\\App.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState, useRef } from 'react';\nimport { Line } from 'react-chartjs-2';\nimport 'chart.js/auto';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst API_BASE = 'http://localhost:5000/api';\nfunction App() {\n  _s();\n  const [status, setStatus] = useState('Loading...');\n  const [sensorValue, setSensorValue] = useState(null);\n  const [history, setHistory] = useState([]);\n  const [lastUpdated, setLastUpdated] = useState(null);\n  const intervalRef = useRef();\n\n  // Fetch latest status and history\n  const fetchData = async () => {\n    try {\n      const statusRes = await fetch(`${API_BASE}/status`);\n      const statusData = await statusRes.json();\n      setStatus(statusData.status);\n      setSensorValue(statusData.sensor_value);\n      setLastUpdated(statusData.timestamp);\n      const historyRes = await fetch(`${API_BASE}/history`);\n      const historyData = await historyRes.json();\n      setHistory(historyData);\n    } catch (err) {\n      setStatus('Error');\n    }\n  };\n  useEffect(() => {\n    fetchData();\n    intervalRef.current = setInterval(fetchData, 2000);\n    return () => clearInterval(intervalRef.current);\n  }, []);\n\n  // Prepare data for Chart.js\n  const chartData = {\n    labels: history.map(item => new Date(item.timestamp).toLocaleTimeString()),\n    datasets: [{\n      label: 'Sensor Value',\n      data: history.map(item => item.sensor_value),\n      fill: false,\n      borderColor: '#007bff',\n      tension: 0.2\n    }]\n  };\n  const chartOptions = {\n    responsive: true,\n    plugins: {\n      legend: {\n        display: false\n      }\n    },\n    scales: {\n      x: {\n        title: {\n          display: true,\n          text: 'Time'\n        }\n      },\n      y: {\n        title: {\n          display: true,\n          text: 'Sensor Value'\n        }\n      }\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      maxWidth: 600,\n      margin: '40px auto',\n      fontFamily: 'Arial, sans-serif'\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      style: {\n        textAlign: 'center'\n      },\n      children: \"Leak Detection Dashboard\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        background: status === 'Leak' ? '#ffcccc' : '#e6ffe6',\n        color: status === 'Leak' ? '#b30000' : '#006600',\n        padding: 20,\n        borderRadius: 8,\n        textAlign: 'center',\n        fontSize: 24,\n        marginBottom: 24,\n        border: '1px solid #ccc'\n      },\n      children: [\"Status: \", /*#__PURE__*/_jsxDEV(\"b\", {\n        children: status === 'Leak' ? 'Leak Detected' : status === 'Normal' ? 'Normal' : status\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 17\n      }, this), sensorValue !== null && /*#__PURE__*/_jsxDEV(\"span\", {\n        style: {\n          fontSize: 16,\n          marginLeft: 16\n        },\n        children: [\"(Value: \", sensorValue, \")\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 11\n      }, this), lastUpdated && /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          fontSize: 12,\n          marginTop: 8\n        },\n        children: [\"Last updated: \", new Date(lastUpdated).toLocaleString()]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        background: '#fff',\n        padding: 16,\n        borderRadius: 8,\n        boxShadow: '0 2px 8px #eee'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        style: {\n          textAlign: 'center',\n          fontSize: 20\n        },\n        children: \"Sensor Value (Last 20)\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Line, {\n        data: chartData,\n        options: chartOptions\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 63,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"tiAYBMQUS/KeKZ9D8XbETx9U/gk=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useEffect","useState","useRef","Line","jsxDEV","_jsxDEV","API_BASE","App","_s","status","setStatus","sensorValue","setSensorValue","history","setHistory","lastUpdated","setLastUpdated","intervalRef","fetchData","statusRes","fetch","statusData","json","sensor_value","timestamp","historyRes","historyData","err","current","setInterval","clearInterval","chartData","labels","map","item","Date","toLocaleTimeString","datasets","label","data","fill","borderColor","tension","chartOptions","responsive","plugins","legend","display","scales","x","title","text","y","style","maxWidth","margin","fontFamily","children","textAlign","fileName","_jsxFileName","lineNumber","columnNumber","background","color","padding","borderRadius","fontSize","marginBottom","border","marginLeft","marginTop","toLocaleString","boxShadow","options","_c","$RefreshReg$"],"sources":["C:/Users/rknk1/Downloads/hackathon (2)/hackathon/frontend/src/App.js"],"sourcesContent":["import React, { useEffect, useState, useRef } from 'react';\r\nimport { Line } from 'react-chartjs-2';\r\nimport 'chart.js/auto';\r\n\r\nconst API_BASE = 'http://localhost:5000/api';\r\n\r\nfunction App() {\r\n  const [status, setStatus] = useState('Loading...');\r\n  const [sensorValue, setSensorValue] = useState(null);\r\n  const [history, setHistory] = useState([]);\r\n  const [lastUpdated, setLastUpdated] = useState(null);\r\n  const intervalRef = useRef();\r\n\r\n  // Fetch latest status and history\r\n  const fetchData = async () => {\r\n    try {\r\n      const statusRes = await fetch(`${API_BASE}/status`);\r\n      const statusData = await statusRes.json();\r\n      setStatus(statusData.status);\r\n      setSensorValue(statusData.sensor_value);\r\n      setLastUpdated(statusData.timestamp);\r\n\r\n      const historyRes = await fetch(`${API_BASE}/history`);\r\n      const historyData = await historyRes.json();\r\n      setHistory(historyData);\r\n    } catch (err) {\r\n      setStatus('Error');\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchData();\r\n    intervalRef.current = setInterval(fetchData, 2000);\r\n    return () => clearInterval(intervalRef.current);\r\n  }, []);\r\n\r\n  // Prepare data for Chart.js\r\n  const chartData = {\r\n    labels: history.map(item => new Date(item.timestamp).toLocaleTimeString()),\r\n    datasets: [\r\n      {\r\n        label: 'Sensor Value',\r\n        data: history.map(item => item.sensor_value),\r\n        fill: false,\r\n        borderColor: '#007bff',\r\n        tension: 0.2,\r\n      },\r\n    ],\r\n  };\r\n\r\n  const chartOptions = {\r\n    responsive: true,\r\n    plugins: {\r\n      legend: { display: false },\r\n    },\r\n    scales: {\r\n      x: { title: { display: true, text: 'Time' } },\r\n      y: { title: { display: true, text: 'Sensor Value' } },\r\n    },\r\n  };\r\n\r\n  return (\r\n    <div style={{ maxWidth: 600, margin: '40px auto', fontFamily: 'Arial, sans-serif' }}>\r\n      <h1 style={{ textAlign: 'center' }}>Leak Detection Dashboard</h1>\r\n      <div style={{\r\n        background: status === 'Leak' ? '#ffcccc' : '#e6ffe6',\r\n        color: status === 'Leak' ? '#b30000' : '#006600',\r\n        padding: 20,\r\n        borderRadius: 8,\r\n        textAlign: 'center',\r\n        fontSize: 24,\r\n        marginBottom: 24,\r\n        border: '1px solid #ccc',\r\n      }}>\r\n        Status: <b>{status === 'Leak' ? 'Leak Detected' : status === 'Normal' ? 'Normal' : status}</b>\r\n        {sensorValue !== null && (\r\n          <span style={{ fontSize: 16, marginLeft: 16 }}>(Value: {sensorValue})</span>\r\n        )}\r\n        {lastUpdated && (\r\n          <div style={{ fontSize: 12, marginTop: 8 }}>Last updated: {new Date(lastUpdated).toLocaleString()}</div>\r\n        )}\r\n      </div>\r\n      <div style={{ background: '#fff', padding: 16, borderRadius: 8, boxShadow: '0 2px 8px #eee' }}>\r\n        <h2 style={{ textAlign: 'center', fontSize: 20 }}>Sensor Value (Last 20)</h2>\r\n        <Line data={chartData} options={chartOptions} />\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}